/*! vue */
webpackJsonp([0],[,,,,function(t,e,o){var n=o(84)("wks"),i=o(91),r=o(8).Symbol;t.exports=function(t){return n[t]||(n[t]=r&&r[t]||(r||i)("Symbol."+t))}},function(t,e){},function(t,e,o){t.exports=function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}({0:function(t,e,o){t.exports=o(119)},1:function(t,e){t.exports=o(2)},119:function(t,e,o){"use strict";t.exports=o(120)},120:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=o(223),r=n(i);o(182),t.exports=r["default"]},182:function(t,e){},223:function(t,e,o){!function(e,n){t.exports=n(o(1))}(this,function(t){return function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="/lib/",e(0)}([function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){t=t||{};var e=void 0,o=void 0,n=void 0,i=void 0,s=void 0;"string"==typeof t?(e=t,n=3e3,o="middle",i="",s=""):(e=t.message,n=t.duration||3e3,o=t.position||"middle",i=t.className||"",s=t.iconClass||"");var a=u();a.message=e,a.position=o,a.className=i,a.iconClass=s,r["default"].nextTick(function(){a.$appendTo(document.body),setTimeout(function(){a.$remove(),c(a)},n)})};var i=o(5),r=n(i),s=r["default"].extend(o(3)),a=[],u=function(){if(a.length>0){var t=a[0];return a.splice(0,1),t}return new s({el:document.createElement("div")})},c=function(t){t&&a.push(t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{message:String,className:{type:String,"default":""},position:{type:String,"default":"middle"},iconClass:{type:String,"default":""}},computed:{customClass:function(){var t=[];switch(this.position){case"top":t.push("is-placetop");break;case"bottom":t.push("is-placebottom");break;default:t.push("is-placemiddle")}return t.push(this.className),t.join(" ")}}}},function(t,e){t.exports="<div class=\"mint-toast {{ customClass }}\" transition=mint-toast-pop :style=\"{ 'padding': iconClass === '' ? '10px' : '20px' }\"> <i class=\"mint-toast-icon {{ iconClass }}\" v-if=\"iconClass !== ''\"></i> <span class=mint-toast-text :style=\"{ 'padding-top': iconClass === '' ? '0' : '10px' }\">{{ message }}</span> </div>"},function(t,e,o){var n,i;o(4),n=o(1),i=o(2),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e){},function(e,o){e.exports=t}])})}})},,,,,function(t,e,o){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var o=[];return t.forEach(function(t){var n=(0,a["default"])(t.author,t.data);n.roomId=e,o.unshift(n)}),o}Object.defineProperty(e,"__esModule",{value:!0}),e.setIsLoginIm=e.setGroupInfo=e.getRoomImMsgList=e.setWebImIsForbidUser=e.getWebImIsStopCmtUser=e.setWebImIsStopCmtUser=e.setWebImBlockState=e.setWebImJoinStatus=e.setWebImPackMsg=e.setWebImObj=e.setWebImData=e.removeWebImData=e.addWebImData=void 0;var s=o(10),a=i(s),u=o(3),c=n(u),l=o(9),f=i(l),d=(e.addWebImData=function(t,e){var o=t.state,n=t.dispatch;switch(e.msgType){case 4:d({dispatch:n},[]);break;case 8:p({state:o,dispatch:n},!0,"主播已锁屏，无法进行互动");break;case 9:p({state:o,dispatch:n},!1,"");break;case 5:parseInt(e.userId)===o.user.info.userId&&m({state:o,dispatch:n});break;case 10:parseInt(e.toUser)===o.user.info.userId&&h({dispatch:n},!0);break;case 11:if(parseInt(e.toUser)===o.user.info.userId){var i=e.roomControl+""=="true"?"你被主播设置为场控，需要到PC或下载口袋fan使用管理功能":"你被主播解除场控权限";n(c.RECEIVE_WEBIM_ISROOMCONTROLUSER,e.roomControl,i)}}n(c.ADD_WEBIMDATA,e)},e.removeWebImData=function(t,e){var o=t.dispatch;o(c.REMOVE_WEBIMDATA,e)},e.setWebImData=function(t,e){var o=t.dispatch;o(c.RECEIVE_WEBIMDATA,e)}),p=(e.setWebImObj=function(t,e){var o=t.dispatch;o(c.RECEIVE_WEBIMOBJ,e)},e.setWebImPackMsg=function(t,e){var o=t.dispatch;o(c.RECEIVE_WEBIMPACKMSG,e)},e.setWebImJoinStatus=function(t,e){var o=t.dispatch,n=!1,i="";switch(e){case"not":i="正在登录聊天室，请稍后进行互动";break;case"ing":i="正在加入聊天室，请稍后进行互动";break;case"error":i="聊天室加入失败，无法进行互动，请刷新页面";break;case"notGroup":i="直播开始后才可以进行互动";break;default:n=!0}o(c.RECEIVE_WEBIM_ISALLOWTALK,n,i),o(c.RECEIVE_WEBIMJOINSTATUS,e)},e.setWebImBlockState=function(t,e,o){var n=t.state,i=t.dispatch;2!==n.room.roomDetail.status&&(e=!1,o=""),i(c.RECEIVE_WEBIMBLOCKSTATE,e),i(c.RECEIVE_WEBIM_ISALLOWTALK,!e,o)}),m=e.setWebImIsStopCmtUser=function(t){var e=t.dispatch,o=t.state,n=o.room.roomId,i=n+"isStopCmtUser",r=6e5;localStorage.setItem(i,Date.now()),e(c.RECEIVE_WEBIM_ISSTOPCMTUSER,!0),setTimeout(function(){Date.now()-localStorage.getItem(i)>=r-1e3&&(localStorage.removeItem(i),e(c.RECEIVE_WEBIM_ISSTOPCMTUSER,!1))},r)},h=(e.getWebImIsStopCmtUser=function(t){var e=t.dispatch,o=t.state,n=o.room.roomId,i=n+"isStopCmtUser",r=6e5,s=Date.now(),a=parseInt(localStorage.getItem(i)),u=r+a;a&&s<u?(e(c.RECEIVE_WEBIM_ISSTOPCMTUSER,!0),setTimeout(function(){localStorage.removeItem(i),e(c.RECEIVE_WEBIM_ISSTOPCMTUSER,!1)},u-s)):(localStorage.removeItem(i),e(c.RECEIVE_WEBIM_ISSTOPCMTUSER,!1))},e.setWebImIsForbidUser=function(t,e){var o=t.dispatch;o(c.RECEIVE_WEBIM_ISFORBIDUSER,e)});e.getRoomImMsgList=function(t,e){var o=t.dispatch,n=t.state,i=n.room.roomId;f["default"].getRoomImMsgList({roomId:i,timeSort:2,limit:200}).then(function(t){if("SUCCESS"===t.data.msg){var e=r(t.data.data.list,i);d({dispatch:o},e)}})},e.setGroupInfo=function(t,e){var o=t.state,n=t.dispatch,i=e.GroupInfo[0],r=i.Introduction,s=i.Notification,a=!!r&&JSON.parse(r).blockState,u=s?JSON.parse(s).forbidUsers:[],l=u.filter(function(t){return parseInt(t)===o.user.info.userId});n(c.RECEIVE_WEBIM_GROUPINFO,e),h({dispatch:n},l.length>0),p({state:o,dispatch:n},a,"主播已锁屏，无法进行互动")},e.setIsLoginIm=function(t,e){var o=t.dispatch;o(c.RECEIVE_ISLOGINIM,e)}},function(t,e,o){var n=o(23);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},,function(t,e){t.exports={}},function(t,e,o){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.resetRoomState=e.addGift=e.getGiftList=e.addRoomTop=e.addRoomPraise=e.exitRoom=e.enterRoom=e.getRoomLongPoling=e.getRoomAllHotList=e.getRoomDetail=void 0;var r=o(10),s=i(r),a=o(3),u=n(a),c=o(9),l=i(c);e.getRoomDetail=function(t,e){var o=t.dispatch;l["default"].getRoomDetail(e).then(function(t){"SUCCESS"===t.data.msg?(o(u.RECEIVE_ROOMDETAIL,t.data.data),o(u.RECEIVE_ROOMDETAILSUCCESS,!0),o(u.RECEIVE_HEADERTITLE,t.data.data.roomName),o(u.RECEIVE_IMGROUPID,t.data.data.imGroupid)):o(u.RECEIVE_ROOMDETAILSUCCESS,!1)})},e.getRoomAllHotList=function(t,e){var o=t.dispatch;l["default"].getRoomAllHotList(e).then(function(t){o(u.RECEIVE_ROOMALLHOTLIST,t.data.data.list)})},e.getRoomLongPoling=function(t,e){var o=t.dispatch;l["default"].getRoomLongPoling(e).then(function(t){o(u.RECEIVE_ROOMLONGPOLING,t.data.data)})},e.enterRoom=function(t,e){return t.dispatch,l["default"].enterOrExitRoom((0,s["default"])({type:1},e))},e.exitRoom=function(t,e){return t.dispatch,l["default"].enterOrExitRoom((0,s["default"])({type:2},e))},e.addRoomPraise=function(t,e){var o=t.dispatch;return l["default"].addRoomPraise(e).then(function(t){o(u.RECEIVE_ROOMPRAISE,t.data.data)})},e.addRoomTop=function(t,e){var o=t.dispatch;return l["default"].addRoomTop(e).then(function(t){o(u.RECEIVE_ROOMTOP,t.data.data)})},e.getGiftList=function(t){var e=t.dispatch,o=t.params;l["default"].getGiftList(o).then(function(t){e(u.RECEIVE_GIFTLIST,t.data.data)})},e.addGift=function(t,e){return t.dispatch,l["default"].addGift(e)},e.resetRoomState=function(t){var e=t.dispatch;e(u.RESET_ROOMSTATE)}},,,function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(5),o(6)),r=n(i),s=o(2),a=(n(s),o(1)),u=n(a),c={methods:{isAllow:function(t){return this.webImIsAllowTalk||"top"===t?!!this.isLogin||((0,r["default"])({message:"登录后即可与大家进行互动哦~",position:"bottom"}),!1):((0,r["default"])({message:this.webImBndTalkTips,position:"bottom"}),!1)},isCheck:function(){return this.webImIsAllowTalk?!this.isStopCmtUser||((0,r["default"])({message:"你已被主播禁言10分钟，请稍候发言",position:"bottom"}),!1):((0,r["default"])({message:this.webImBndTalkTips,position:"bottom"}),!1)},webImState:function(){return"not"===this.webImJoinStatus?((0,r["default"])({message:"正在登录聊天室，请稍后进行互动",position:"bottom"}),!1):"ing"===this.webImJoinStatus?((0,r["default"])({message:"正在加入聊天室，请稍后进行互动",position:"bottom"}),!1):"error"===this.webImJoinStatus?((0,r["default"])({message:"聊天室加入失败，无法进行互动，请刷新页面",position:"bottom"}),!1):!this.webImBlockState||((0,r["default"])({message:"主播已经锁屏，无法进行互动",position:"bottom"}),!1)}},store:u["default"],vuex:{getters:{isLogin:function(t){return t.user.isLogin},roomStatus:function(t){return t.room.roomDetail.status},webImBlockState:function(t){return t.webim.blockState},webImJoinStatus:function(t){return t.webim.joinStatus},webImIsAllowTalk:function(t){return t.webim.isAllowTalk},webImBndTalkTips:function(t){return t.webim.banTalkTips},isStopCmtUser:function(t){return t.webim.isStopCmtUser}}}};e["default"]=c},function(t,e,o){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.exitChannel=e.enterChannel=e.addChannelGift=e.addChannelTop=e.addChannelPraise=e.getChannelStatPoling=e.getChannelDetail=void 0;var r=o(10),s=i(r),a=o(3),u=n(a),c=o(9),l=i(c),f=o(20);e.getChannelDetail=function(t,e){var o=t.dispatch;l["default"].getChannelDetail(e).then(function(t){if("SUCCESS"===t.data.msg){var e=t.data.data;o(u.RECEIVE_CHANNELDETAIL,e),(0,f.setHeaderTitle)({dispatch:o},e.channelName),o(u.RECEIVE_ROOMID,e.channelId),e.liveStatus!==-1&&o(u.RECEIVE_IMGROUPID,e.channelShow.imGroupid)}})},e.getChannelStatPoling=function(t,e){var o=t.dispatch;l["default"].getChannelStatPoling(e).then(function(t){o(u.RECEIVE_STATPOLING,t.data.data)})},e.addChannelPraise=function(t){return l["default"].addChannelPraise(t)},e.addChannelTop=function(t){return l["default"].addChannelTop(t)},e.addChannelGift=function(t){return l["default"].addChannelGift(t)},e.enterChannel=function(t,e){return t.dispatch,l["default"].enterOrExitChannel((0,s["default"])({type:1},e))},e.exitChannel=function(t,e){return t.dispatch,l["default"].enterOrExitChannel((0,s["default"])({type:2},e))}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.setHeaderTitle=void 0;var r=o(3),s=i(r),a=o(9);n(a),e.setHeaderTitle=function(t,e){var o=t.dispatch;o(s.RECEIVE_HEADERTITLE,e)}},,,function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},,function(t,e,o){t.exports=!o(69)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,o){var n=o(7),i=o(37);t.exports=o(25)?function(t,e,o){return n.setDesc(t,e,i(1,o))}:function(t,e,o){return t[e]=o,t}},function(t,e,o){var n=o(7).setDesc,i=o(34),r=o(4)("toStringTag");t.exports=function(t,e,o){t&&!i(t=o?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},,,,function(t,e,o){var n=o(24),i=o(4)("toStringTag"),r="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,o,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(o=(e=Object(t))[i])?o:r?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},,,function(t,e){var o={}.hasOwnProperty;t.exports=function(t,e){return o.call(t,e)}},function(t,e,o){"use strict";var n=o(36),i=o(33),r=o(38),s=o(26),a=o(34),u=o(14),c=o(76),l=o(27),f=o(7).getProto,d=o(4)("iterator"),p=!([].keys&&"next"in[].keys()),m="@@iterator",h="keys",v="values",g=function(){return this};t.exports=function(t,e,o,I,b,_,x){c(o,e,I);var y,w,S=function(t){if(!p&&t in O)return O[t];switch(t){case h:return function(){return new o(this,t)};case v:return function(){return new o(this,t)}}return function(){return new o(this,t)}},M=e+" Iterator",E=b==v,T=!1,O=t.prototype,C=O[d]||O[m]||b&&O[b],P=C||S(b);if(C){var R=f(P.call(new t));l(R,M,!0),!n&&a(O,m)&&s(R,d,g),E&&C.name!==v&&(T=!0,P=function(){return C.call(this)})}if(n&&!x||!p&&!T&&O[d]||s(O,d,P),u[e]=P,u[M]=g,b)if(y={values:E?P:S(v),keys:_?P:S(h),entries:E?S("entries"):P},x)for(w in y)w in O||r(O,w,y[w]);else i(i.P+i.F*(p||T),e,y);return y}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,o){t.exports=o(26)},function(t,e){var o=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:o)(t)}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(){}Object.defineProperty(e,"__esModule",{value:!0});var r=o(10),s=n(r);e["default"]=i;var a=o(98),u=n(a);i.prototype={init:function(t){this.info={nickName:t.nickName,smallAvatar:t.smallAvatar,roomId:t.roomId,channelId:t.channelId,userId:t.userId,source:t.source}},getDefaultInfo:function(){return(0,s["default"])(this.info,{time:(0,u["default"])("hh:mm:ss",new Date)})},pack:function(t,e){return this[t](e)},chat:function(t){return(0,s["default"])({msgType:0,content:t,style:{fontColor:"#999999"}},this.getDefaultInfo())},gift:function(t){return(0,s["default"])({msgType:1,giftId:t,giftNum:1},this.getDefaultInfo())},praise:function(){return(0,s["default"])({msgType:3},this.getDefaultInfo())}}},,function(t,e){},function(t,e,o){t.exports=function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}({0:function(t,e,o){t.exports=o(97)},1:function(t,e){t.exports=o(2)},6:function(t,e,o){!function(e,n){t.exports=n(o(1))}(this,function(t){return function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(4),r=n(i),s=o(2),a=o(1),u=n(a);o(3);var c=1,l=[],f=function(t){if(-1===l.indexOf(t)){var e=function(t){var e=t.__vue__;if(!e){var o=t.previousSibling;o.__vue__&&(e=o.__vue__)}return e};r["default"].transition(t,{afterEnter:function(t){var o=e(t);o&&o.doAfterOpen&&o.doAfterOpen()},afterLeave:function(t){var o=e(t);o&&o.doAfterClose&&o.doAfterClose()}})}},d=function(t){return 3===t.nodeType?t.nextElementSibling:t};e["default"]={props:{visible:{type:Boolean,twoWay:!0,"default":!1},transition:{type:String,"default":""},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,"default":!1},modalClass:{},closeOnPressEscape:{type:Boolean,"default":!1},closeOnClickModal:{type:Boolean,"default":!1}},created:function(){this.transition&&f(this.transition)},compiled:function(){this._popupId="popup-"+c++,u["default"].register(this._popupId,this)},beforeDestroy:function(){u["default"].deregister(this._popupId),u["default"].closeModal(this._popupId)},data:function(){return{bodyOverflow:null,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,r["default"].nextTick(function(){e.open()}))}else this.close()}},methods:{open:function(t){var e=this;if(!this.rendered)return this.rendered=!0,void(this.visible=!0);var o=(0,s.merge)({},this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var n=Number(o.openDelay);n>0?this._openTimer=setTimeout(function(){e._openTimer=null,e.doOpen(o)},n):this.doOpen(o)},doOpen:function(t){if(!this.willOpen||this.willOpen()){this._opening=!0,this.visible=!0;var e=d(this.$el),o=t.modal,n=t.zIndex;n&&(u["default"].zIndex=n),o&&(this._closing&&(u["default"].closeModal(this._popupId),this._closing=!1),u["default"].openModal(this._popupId,u["default"].nextZIndex(),e,t.modalClass),this.bodyOverflow||(this.bodyOverflow=document.body.style.overflow),document.body.style.overflow="hidden"),"static"===getComputedStyle(e).position&&(e.style.position="absolute"),o?e.style.zIndex=u["default"].nextZIndex():n&&(e.style.zIndex=n),this.onOpen&&this.onOpen(),this.transition||this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout(function(){t._closeTimer=null,t.doClose()},e):this.doClose()}},doClose:function(){this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),this.modal&&(document.body.style.overflow=this.bodyOverflow),this.transition||this.doAfterClose()},doAfterClose:function(){u["default"].closeModal(this._popupId),this._closing=!1}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){var t=r.modalDom;return t||(t=document.createElement("div"),r.modalDom=t,t.addEventListener("touchmove",function(t){t.preventDefault(),t.stopPropagation()})),t},n=function(){r.doOnModalClick&&r.doOnModalClick()},i={},r={zIndex:1e3,getInstance:function(t){return i[t]},register:function(t,e){t&&e&&(i[t]=e)},deregister:function(t){t&&(i[t]=null,delete i[t])},nextZIndex:function(){return r.zIndex++},modalStack:[],doOnModalClick:function(){var t=r.modalStack[r.modalStack.length-1];if(t){var e=r.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,i,r){if(t&&void 0!==e){for(var s=this.modalStack,a=0,u=s.length;u>a;a++){var c=s[a];if(c.id===t)return}var l=o();if(setTimeout(function(){l.addEventListener("click",n)},300),l.classList.add("v-modal"),l.classList.add("v-modal-enter"),r){var f=r.trim().split(/\s+/);f.forEach(function(t){return l.classList.add(t)})}setTimeout(function(){l.classList.remove("v-modal-enter")},200),i&&i.parentNode&&11!==i.parentNode.nodeType?i.parentNode.appendChild(l):document.body.appendChild(l),e&&(l.style.zIndex=e),l.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:r})}},closeModal:function(t){var e=this.modalStack,i=o();if(e.length>0){var r=e[e.length-1];if(r.id===t){if(r.modalClass){var s=r.modalClass.trim().split(/\s+/);s.forEach(function(t){return i.classList.remove(t)})}e.pop(),e.length>0&&(i.style.zIndex=e[e.length-1].zIndex)}else for(var a=e.length-1;a>=0;a--)if(e[a].id===t){e.splice(a,1);break}}0===e.length&&(i.classList.add("v-modal-leave"),setTimeout(function(){0===e.length&&(i.parentNode&&i.parentNode.removeChild(i),i.style.display="none"),i.removeEventListener("click",n),i.classList.remove("v-modal-leave")},200))}};window.addEventListener("keydown",function(t){if(27===t.keyCode&&r.modalStack.length>0){var e=r.modalStack[r.modalStack.length-1];if(!e)return;var o=r.getInstance(e.id);o.closeOnPressEscape&&o.close()}}),e["default"]=r},function(t,e){"use strict";function o(t){for(var e=1,o=arguments.length;o>e;e++){var n=arguments[e];for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];void 0!==r&&(t[i]=r)}}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.merge=o},function(t,e){},function(e,o){e.exports=t}])})},51:function(t,e){t.exports=" <div class=msgbox-wrapper> <div class=msgbox v-if=rendered v-show=visible transition=pop-bounce> <div class=msgbox-header v-if=\"title !== ''\"> <div class=msgbox-title>{{ title }}</div> </div> <div class=msgbox-content v-if=\"message !== ''\"> <div class=\"msgbox-status d-icon {{ type ? 'icon-' + type : '' }}\"></div> <div class=msgbox-message><p>{{ message }}</p></div> <div class=msgbox-input v-show=showInput> <input type=text v-model=inputValue :placeholder=inputPlaceholder v-el:input/> <div class=msgbox-errormsg :style=\"{ visibility: !!editorErrorMessage ? 'visible' : 'hidden' }\">{{editorErrorMessage}}</div> </div> </div> <div class=msgbox-btns :class=\"{ 'msgbox-btns-reverse': confirmButtonPosition === 'left' }\"> <button class=\"{{ cancelButtonClasses }}\" v-show=showCancelButton @click=\"handleAction('cancel')\">{{ cancelButtonText }}</button> <button class=\"{{ confirmButtonClasses }}\" v-show=showConfirmButton @click=\"handleAction('confirm')\">{{ confirmButtonText }}</button> </div> </div> </div> "},97:function(t,e,o){"use strict";t.exports=o(98)},98:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=o(122),r=n(i);o(184),t.exports=r["default"]},121:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(6),r=n(i),s="确定",a="取消";e["default"]={mixins:[r["default"]],props:{modal:{"default":!0},closeOnPressEscape:{"default":!0}},computed:{confirmButtonClasses:function(){var t="msgbox-btn msgbox-confirm "+this.confirmButtonClass;return this.confirmButtonHighlight&&(t+=" msgbox-confirm-highlight"),t},cancelButtonClasses:function(){var t="msgbox-btn msgbox-cancel "+this.cancelButtonClass;return this.cancelButtonHighlight&&(t+=" msgbox-cancel-highlight"),t}},methods:{handleAction:function(t){if("prompt"!==this.$type||"confirm"!==t||this.validate()){var e=this.callback;this.visible=!1,e(t)}},validate:function(){if("prompt"===this.$type){var t=this.inputPattern;if(t&&!t.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",!1;var e=this.inputValidator;if("function"==typeof e){var o=e(this.inputValue);if(o===!1)return this.editorErrorMessage=this.inputErrorMessage||"输入的数据不合法!",!1;if("string"==typeof o)return this.editorErrorMessage=o,!1}}return this.editorErrorMessage="",!0}},watch:{inputValue:function(){"prompt"===this.$type&&this.validate()},visible:function(t){var e=this;t&&"prompt"===this.$type&&setTimeout(function(){e.$els.input&&e.$els.input.focus()},500)}},data:function(){return{title:"",message:"",type:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonText:s,cancelButtonText:a,confirmButtonPosition:"right",confirmButtonHighlight:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",cancelButtonHighlight:!1,editorErrorMessage:null,callback:null}}}},122:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.MessageBox=void 0;var i,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=o(1),u=n(a),c=o(222),l=n(c),f="确定",d="取消",p={title:"",message:"",type:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:f,cancelButtonText:d,confirmButtonClass:"",cancelButtonClass:""},m=function(t){for(var e=1,o=arguments.length;e<o;e++){var n=arguments[e];for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];void 0!==r&&(t[i]=r)}}return t},h=u["default"].extend(l["default"]),v=[],g=function(){r=new h({el:document.createElement("div")}),r.callback=function(t){if(i){var e=i.callback;if("function"==typeof e&&(r.showInput?e(r.inputValue,t):e(t)),i.resolve){var o=i.options.$type;"confirm"===o||"prompt"===o?"confirm"===t?r.showInput?i.resolve({value:r.inputValue,action:t}):i.resolve(t):"cancel"===t&&i.reject&&i.reject(t):i.resolve(t)}}}},I=function(){if(r||g(),(!r.visible||r.closeTimer)&&v.length>0){i=v.shift();var t=i.options;for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);r.$appendTo(document.body),u["default"].nextTick(function(){r.visible=!0})}},b=function _(t,e){return"string"==typeof t?(t={title:t},arguments[1]&&(t.message=arguments[1]),arguments[2]&&(t.type=arguments[2])):t.callback&&!e&&(e=t.callback),"undefined"!=typeof Promise?new Promise(function(o,n){v.push({options:m({},p,_.defaults||{},t),callback:e,resolve:o,reject:n}),I()}):(v.push({options:m({},p,_.defaults||{},t),callback:e}),void I())};b.setDefaults=function(t){b.defaults=t},b.alert=function(t,e,o){return"object"===("undefined"==typeof e?"undefined":s(e))&&(o=e,e=""),b(m({title:e,message:t,$type:"alert"},o))},b.confirm=function(t,e,o){return"object"===("undefined"==typeof e?"undefined":s(e))&&(o=e,e=""),b(m({title:e,message:t,$type:"confirm",showCancelButton:!0},o))},b.prompt=function(t,e,o){return"object"===("undefined"==typeof e?"undefined":s(e))&&(o=e,e=""),b(m({title:e,message:t,showCancelButton:!0,showInput:!0,$type:"prompt"},o))},b.close=function(){r.visible=!1,v=[],i=null},e["default"]=b,e.MessageBox=b},152:function(t,e){},180:function(t,e){},184:function(t,e){},222:function(t,e,o){var n,i;o(180),o(152),n=o(121),i=o(51),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=i)}})},,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(5),o(6)),r=n(i),s=(o(16),o(17)),a=n(s),u=o(2),c=n(u),l=o(1),f=n(l),d=o(11),p=o(18),m=n(p);c["default"].component(a["default"].name,a["default"]),e["default"]={data:function(){return{popupChatVisible:!1,msg:"",isRed:!1}},computed:{isRed:function(){return this.msg.length>20}},mixins:[m["default"]],methods:{showChat:function(){this.isAllow("chat")&&(this.popupChatVisible=!0,setTimeout(function(){var t=this.$el.nextElementSibling.nextElementSibling.querySelector(".chat-input");t.focus()}.bind(this),300))},sendData:function(){if(this.isCheck()){if(this.msg=this.msg.trim(),this.msg.length>20)return void(0,r["default"])({message:"字数超过20字，请减少",position:"bottom",className:"send-text-tips"});if(0===this.msg.length)return void(0,r["default"])({message:"发送内容不能为空",position:"bottom",className:"send-text-tips"});var t=this.packMsg.pack("chat",this.msg),e=this;e.addWebImData(t),this.imServer.sendMsg(t).then(function(t){})["catch"](function(o){e.removeWebImData(t.msgId),(0,r["default"])({message:"消息发送失败，请检测网络是否正常",position:"bottom"})})}this.popupChatVisible=!1,this.msg=""}},store:f["default"],vuex:{getters:{imServer:function(t){return t.webim.imServer},packMsg:function(t){return t.webim.packMsg},isLogin:function(t){return t.user.isLogin},roomStatus:function(t){return t.room.roomDetail.status}},actions:{addWebImData:d.addWebImData,removeWebImData:d.removeWebImData}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(5),o(6)),r=n(i),s=(o(16),o(17)),a=n(s),u=o(2),c=n(u);o(59),o(58);var l=o(18),f=n(l),d=o(1),p=n(d),m=o(11),h=o(15),v=o(19);c["default"].component(a["default"].name,a["default"]),e["default"]={data:function(){return{popupGiftVisible:!1}},mixins:[f["default"]],created:function(){this.getGiftList({type:0})},methods:{showDialog:function(){this.isAllow()&&(this.popupGiftVisible=!0)},toSend:function(t){if(this.isCheck()){var e=this.packMsg.pack("gift",t),o=this;o.addWebImData(e),this.addGift({roomId:this.roomId,giftId:t,giftNum:1}).then(function(t){var n=t.data.data;if(n.success===!0)return o.imServer.sendMsg(e);throw new Error(n.message)}).then(function(t){})["catch"](function(t){o.removeWebImData(e.msgId),(0,r["default"])({message:"礼物赠送失败，请检测网络是否正常",position:"bottom"})})}this.popupGiftVisible=!1}},store:p["default"],vuex:{getters:{roomId:function(t){return t.room.roomId},channelId:function(t){return t.channel.id},praise:function(t){return t.popularity.praise},imServer:function(t){return t.webim.imServer},packMsg:function(t){return t.webim.packMsg},giftList:function(t){return t.gift.list},isLogin:function(t){return t.user.isLogin}},actions:{addRoomPraise:h.addRoomPraise,addWebImData:m.addWebImData,getGiftList:h.getGiftList,addGift:function(t,e){return"channel"===this.$route.name?(0,v.addChannelGift)({channelId:this.channelId}):(0,h.addGift)(t,e)},removeWebImData:m.removeWebImData}},components:{addWebImData:m.addWebImData}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(5),o(6)),r=n(i),s=o(1),a=n(s),u=o(11),c=o(15),l=o(19),f=o(18),d=n(f);e["default"]={data:function(){return{praisePermit:!0}},mixins:[d["default"]],methods:{praiseHandler:function(){if(this.isAllow()&&this.isCheck())if(this.praisePermit){var t=this.packMsg.pack("praise",this.msg),e=this;console.log(t),e.addWebImData(t),e.addRoomPraise().then(function(){return e.imServer.sendMsg(t)}).then(function(t){})["catch"](function(o){e.removeWebImData(t.msgId),console.log(o),(0,r["default"])({message:"点赞失败，请检测网络是否正常",position:"bottom"})}),e.praisePermit=!1,setTimeout(function(){e.praisePermit=!0},3e3)}else(0,r["default"])({message:"点赞太频繁，请稍后点赞哦~",position:"bottom"})}},store:a["default"],vuex:{getters:{roomId:function(t){return t.room.roomId},channelId:function(t){return t.channel.id},praise:function(t){return t.popularity.praise},imServer:function(t){return t.webim.imServer},packMsg:function(t){return t.webim.packMsg}},actions:{addRoomPraise:function(){return"channel"===this.$route.name?(0,l.addChannelPraise)({channelId:this.channelId}):(0,c.addRoomPraise)(a["default"],{roomId:this.roomId})},addWebImData:u.addWebImData,removeWebImData:u.removeWebImData}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(5),o(6)),r=n(i),s=(o(16),o(17)),a=n(s),u=o(2),c=n(u),l=o(1),f=n(l),d=o(61),p=n(d);c["default"].component(a["default"].name,a["default"]),e["default"]={data:function(){return{popupShareVisible:!1,weibo:"http://service.weibo.com/share/share.php",qzone:"http://qzs.qzone.qq.com/open/connect/widget/mobile/qzshare/index.html",qq:"http://connect.qq.com/widget/shareqq/index.html",renren:"http://share.renren.com/share/buttonshare.do?title={title}&link={url}&pic={pic}",douban:"http://www.douban.com/share/service?bm=&image={pic}&href={url}&updated=&name={title}"}},computed:{shareText:function(t){return"我在【饭趴】观看直播，小伙伴们快来看看吧~"},weiboApi:function(t){return t.weibo+(0,p["default"])({url:location.href,title:t.shareText,pic:t.posterPic})},qqApi:function(t){return t.qq+(0,p["default"])({title:t.shareText,url:location.href,pics:t.posterPic,desc:t.roomName+"，大家快来看看~",summary:t.roomName+"，大家快来看看~",site:"音悦台",showcount:1})},qzoneApi:function(t){return t.qzone+(0,p["default"])({imageUrl:t.posterPic,title:t.shareText,url:location.href})}},methods:{weixinHandler:function(){this.popupShareVisible=!1,(0,r["default"])({message:"请至地址栏长按即可复制链接发送给你的好友啦~",position:"bottom"})}},store:f["default"],vuex:{getters:{nickName:function(t){return t.user.info.nickName},roomName:function(t){return t.room.roomDetail.roomName},posterPic:function(t){return t.room.roomDetail.posterPic}}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(5),o(6)),r=n(i),s=(o(16),o(17)),a=n(s),u=o(2),c=n(u),l=o(1),f=n(l),d=o(15),p=o(19),m=o(29),h=o(18),v=n(h);
c["default"].component(a["default"].name,a["default"]),e["default"]={data:function(){return{iOneMark:20,popupTopVisible:!1}},mixins:[v["default"]],methods:{showDialog:function(){this.isAllow("top")&&(this.popupTopVisible=!0)},toTop:function(){var t=this;this.totalMarks>=this.iOneMark?this.addRoomTop({roomId:this.roomId}).then(function(){t.getUserInfo(),(0,r["default"])({message:"顶上去成功，人气上涨20~",position:"bottom"})})["catch"](function(){(0,r["default"])({message:"顶上去失败,请检测网络是否正常",position:"bottom"})}):(0,r["default"])({message:"积分不够哦~",position:"bottom"}),this.popupTopVisible=!1}},store:f["default"],vuex:{getters:{roomId:function(t){return t.room.roomId},channelId:function(t){return t.channel.id},totalMarks:function(t){return t.user.info.totalMarks}},actions:{addRoomTop:function(){return"channel"===this.$route.name?(0,p.addChannelTop)({channelId:this.channelId}):(0,d.addRoomTop)(f["default"],{roomId:this.roomId})},getUserInfo:m.getUserInfo}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(123),r=n(i),s=o(122),a=n(s),u=o(121),c=n(u),l=o(125),f=n(l),d=o(124),p=n(d);e["default"]={components:{actionPraise:r["default"],actionGift:a["default"],actionChat:c["default"],actionTop:f["default"],actionShare:p["default"]}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(42),o(43)),r=n(i),s=(o(5),o(6)),a=n(s),u=o(1),c=n(u),l=o(11);e["default"]={props:["filterKey","roomId"],created:function(){this.setWebImData([]),this.setWebImJoinStatus("not"),this.onWebImDataChange(),this.onRoomControlChange(),this.onIsForbidUser()},methods:{onWebImDataChange:function(){function t(){var t=e.$el,o=t.querySelector(".chat-list");o&&(t.scrollTop=o.offsetHeight-t.offsetHeight)}var e=this;this.$watch("webImData",t),this.$watch("webImJoinStatus",function(){"success"===this.webImJoinStatus&&t()})},onRoomControlChange:function(){this.$watch("isRoomControlUser.boolean",function(){(0,a["default"])({message:this.isRoomControlUser.tips,position:"bottom"})})},onStopCmtUser:function(){this.$watch("isStopCmtUser",function(){this.isStopCmtUser===!0&&(0,a["default"])({message:"你被主播禁言10分钟",position:"bottom"})})},onIsForbidUser:function(){var t=this;this.$watch("isForbidUser",function(){t.isForbidUser===!0&&r["default"].alert("你已被场控踢出本房间","提示").then(function(e){t.$router.go({name:"home"})})})}},store:c["default"],vuex:{getters:{webImData:function(t){return t.webim.data},webImJoinStatus:function(t){return t.webim.joinStatus},isRoomControlUser:function(t){return t.webim.isRoomControlUser},isStopCmtUser:function(t){return t.webim.isStopCmtUser},isForbidUser:function(t){return t.webim.isForbidUser}},actions:{setWebImData:l.setWebImData,setWebImJoinStatus:l.setWebImJoinStatus}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(5),o(6)),r=n(i),s=o(1),a=n(s);e["default"]={props:["allHotList"],data:function(){return{listWidth:"100rem"}},ready:function(){this.$watch("allHotList",function(){this.setListWidth()})},methods:{routerGo:function(t){"not"!==this.webImJoinStatus&&"ing"!==this.webImJoinStatus||t.params.roomId===this.roomId?this.$router.go(t):(0,r["default"])({message:"当前聊天室正在加入中，请稍候切换其他房间",position:"bottom"})},setListWidth:function(){var t=this.$el.querySelector(".list-container"),e=t.querySelector(".list"),o=e.querySelectorAll("a");this.listWidth=(o[0].offsetWidth+parseInt(getComputedStyle(o[0],!1).marginRight))*(o.length+1)+"px"}},store:a["default"],vuex:{getters:{roomId:function(t){return t.room.roomId},webImJoinStatus:function(t){return t.webim.joinStatus}}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),r=n(i);e["default"]={props:["roomDetail","liveTime"],data:function(){return{playDateTime:""}},created:function(){this.getPlayDateTime()},methods:{getPlayDateTime:function(){function t(){var t=new Date;t.setTime(o.liveTime),o.playDateTime=t.getFullYear()+" 年 "+e(t.getMonth()+1)+" 月 "+e(t.getDate())+" 日 "+e(t.getHours())+" : "+e(t.getMinutes())}function e(t){return t<10?"0"+t:""+t}var o=this;t(),this.$watch("roomDetail",t)}},store:r["default"],vuex:{getters:{}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),r=n(i);e["default"]={props:["url"],data:function(){return{isSetHeight:!0}},ready:function(){this.setVideoHeight(),this.resetVideo()},methods:{setVideoHeight:function(){var t=this,e=this.$el;e.onplay=function(){t.isSetHeight=!1},this.$watch("roomId",function(){t.isSetHeight=!0})},resetVideo:function(){this.$watch("url",function(){this.$el.load()})}},store:r["default"],vuex:{getters:{roomId:function(t){return t.room.roomId}}}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=o(2),r=n(i);r["default"].filter("giftClass",function(t){switch(t){case 5:return"love";case 6:return"flower";case 7:return"beer";case 8:return"fireworks";case 9:return"clap"}})},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var i=o(2),r=n(i);r["default"].filter("giftName",function(t){switch(t){case 5:return"爱心";case 6:return"鲜花";case 7:return"啤酒";case 8:return"礼花";case 9:return"鼓掌";default:return"未知"}})},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(10),r=n(i),s=o(62),a=n(s),u=o(1),c=n(u),l=o(29),f=o(11),d=o(63),p=n(d),m=o(40),h=n(m),v={created:function(){this.initIm(),this.showRoomImMsgList(),this.initPackData()},methods:{initIm:function(){var t=this;if(!t.imServer){var e=new a["default"];this.setWebImObj(e)}this.getUserSig(),this.getWebImIsStopCmtUserHandler(),this.forbidUserHandler(),this.toLoginJoinHandler(),this.$watch("roomId",function(){t.webImData.length>0&&t.setWebImData([])})},toLoginJoinHandler:function(){function t(){e.joinGroup().then(function(t){e.$watch("roomDetail",function(){console.warn("切换群"),e.joinGroup()})})}var e=this;this.isLoginIm?this.$watch("userSig",t):this.$watch("userSig",function(){var o=this;e.imServer.login(e.userSig,e.onMsgNotify).then(function(e){console.info("登录成功"),o.setIsLoginIm(!0),t()})})},forbidUserHandler:function(){this.setWebImIsForbidUser(!1)},joinGroup:function(){var t=this;return t.setWebImJoinStatus("ing"),t.imServer.quitAllGroup().then(function(){return console.info("所有群退出成功"),t.imServer.applyJoinGroup(t.imGroupid)}).then(function(){return console.info("进群成功"),t.imServer.getGroupInfo(["Introduction","Notification"])}).then(function(e){console.info("获取群信息成功"),t.setWebImJoinStatus("success"),t.setGroupInfo(e)})["catch"](function(e){console.error(e),10015===e.ErrorCode?(console.info("没有建立群"),t.setWebImJoinStatus("notGroup")):(console.info("加入聊天室失败了"),t.setWebImJoinStatus("error"))})},onMsgNotify:function(t){console.info(t);var e,o,n;webim.MsgStore.sessMap();for(var i in t)e=t[i],e.isSend||(o=e.getSession(),n=(0,p["default"])(e),this.addWebImData(n));webim.setAutoRead(o,!0,!0)},getWebImIsStopCmtUserHandler:function(){this.$watch("roomId",function(){this.getWebImIsStopCmtUser()})},showRoomImMsgList:function(){this.$watch("roomId",this.getRoomImMsgList)},initPackData:function(){this.$watch("userSig",function(){var t=new h["default"];t.init((0,r["default"])(this.userSig,{roomId:this.roomId,userId:this.userId,source:this.source})),this.setWebImPackMsg(t),this.$watch("roomDetail",function(){this.packMsg.info.roomId=this.roomId})})}},store:c["default"],vuex:{getters:{isLoginIm:function(t){return t.webim.isLoginIm},userSig:function(t){return t.user.sig},userInfo:function(t){return t.user.info},userId:function(t){return t.user.info.userId},roomId:function(t){return t.room.roomId},imGroupid:function(t){return t.webim.imGroupid},webImData:function(t){return t.webim.data},imServer:function(t){return t.webim.imServer},groupId:function(t){return t.webim.imServer.groupId},packMsg:function(t){return t.webim.packMsg},roomDetail:function(t){return t.room.roomDetail},roomName:function(t){return t.room.roomDetail.roomName},joinStatus:function(t){return t.webim.joinStatus},isForbidUser:function(t){return t.webim.isForbidUser}},actions:{getUserSig:l.getUserSig,addWebImData:f.addWebImData,setWebImObj:f.setWebImObj,setWebImPackMsg:f.setWebImPackMsg,setWebImData:f.setWebImData,setWebImJoinStatus:f.setWebImJoinStatus,setWebImBlockState:f.setWebImBlockState,getWebImIsStopCmtUser:f.getWebImIsStopCmtUser,getRoomImMsgList:f.getRoomImMsgList,getMessageList:f.getMessageList,setWebImIsForbidUser:f.setWebImIsForbidUser,setGroupInfo:f.setGroupInfo,setIsLoginIm:f.setIsLoginIm}}};e["default"]=v},function(t,e){"use strict";function o(t){var e="?";for(var o in t)e+=o+"="+encodeURIComponent(t[o])+"&";return e.substr(0,e.length-1)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(){this.groupId=null,this.im=null}Object.defineProperty(e,"__esModule",{value:!0});var r=o(64),s=n(r),a=o(65),u=n(a);e["default"]=i,i.prototype={construct:i,login:function(t,e){var o=this;return this.im=t,this.loginInfo={sdkAppID:t.imAppid,appIDAt3rd:t.imAppid,accountType:t.imAccountType,identifier:t.imIdentifier,identifierNick:t.nickName,userSig:t.userSig},this.listeners={onConnNotify:null,onBigGroupMsgNotify:null,onMsgNotify:e,onGroupSystemNotifys:null,onGroupInfoChangeNotify:null},this.options={isAccessFormalEnv:!0,isLogOn:!1},new u["default"](function(t,e){webim.login(o.loginInfo,o.listeners,o.options,function(e){o.loginInfo.identifierNick=e.identifierNick,webim.Log.info("webim登录成功"),t(e)},function(t){webim.Log.info(t.ErrorInfo),e(t)})})},applyJoinGroup:function(t){this.groupId=t;var e={GroupId:this.groupId};return new u["default"](function(t,o){webim.applyJoinGroup(e,t,function(e){10013!==e.ErrorCode?o(e):t()})})},sendMsg:function c(t){var c,e=webim.MsgStore.sessByTypeId("GROUP",this.groupId),o=Math.floor(1e4*Math.random());if(e||(e=new webim.Session("GROUP",this.groupId,this.groupId,"",o)),e)return c=new webim.Msg(e,(!0)),t=new webim.Msg.Elem("TIMCustomElem",{data:(0,s["default"])(t)}),c.elems.push(t),c.fromAccount=this.im.imIdentifier,new u["default"](function(t,e){webim.sendMsg(c,function(e){t(e)},function(t){e(t)})})},quitGroup:function(t,e){return new u["default"](function(e,o){webim.quitGroup({GroupId:t},function(t){console.info(t,"退群消息"),e(t)},function(t){o(t)})})},quitAllGroup:function(){var t=this;return new u["default"](function(e,o){function n(o){function n(){i++,i===r&&(t.canJoin=!0,e())}var i=0,r=o.GroupIdList.length<5?o.GroupIdList.length:5;if(t.groupIdList=o.GroupIdList,!t.groupIdList||0===r)return t.canJoin=!0,void e();for(var s=0;s<r;s++)t.quitGroup(t.groupIdList[s].GroupId).then(n)["catch"](n)}t.getJoinedGroupListHigh().then(n)["catch"](n)})},getJoinedGroupListHigh:function(){var t=this,e={Member_Account:t.im.imIdentifier,Limit:100,Offset:0};return new u["default"](function(t,o){webim.getJoinedGroupListHigh(e,function(e){t(e)},function(t){o(t)})})},getGroupInfo:function(t,e){var o={GroupIdList:[this.groupId],GroupBaseInfoFilter:t,MemberInfoFilter:e};return new u["default"](function(t,e){webim.getGroupInfo(o,function(e){t(e)},function(t){e(t)})})},getBlockState:function(){var t=this;return new u["default"](function(e,o){t.getGroupInfo(["Introduction","Notification"]).then(function(t){console.log(t);var o=t.GroupInfo[0].Introduction;e(!!o&&JSON.parse(o).blockState)})["catch"](function(t){o(t)})})}}},function(t,e){"use strict";function o(t){var e,o,l,f,d="";e=t.getElems();for(var p in e)switch(o=e[p],l=o.getType(),f=o.getContent(),l){case webim.MSG_ELEMENT_TYPE.TEXT:d=n(f);break;case webim.MSG_ELEMENT_TYPE.FACE:d=i(f);break;case webim.MSG_ELEMENT_TYPE.IMAGE:d=r(f);break;case webim.MSG_ELEMENT_TYPE.SOUND:d=s(f);break;case webim.MSG_ELEMENT_TYPE.FILE:d=a(f);break;case webim.MSG_ELEMENT_TYPE.LOCATION:break;case webim.MSG_ELEMENT_TYPE.CUSTOM:d=u(f);break;case webim.MSG_ELEMENT_TYPE.GROUP_TIP:d=c(f);break;default:webim.Log.error("未知消息元素类型: elemType="+l)}return d}function n(t){return t.getText()}function i(t){var e=t.getIndex(),o=t.getData(),n=null,i=webim.Emotions[e];return i&&i[1]&&(n=i[1]),n?"<img src='"+n+"'/>":o}function r(t){var e=t.getImage(webim.IMAGE_TYPE.SMALL),o=t.getImage(webim.IMAGE_TYPE.LARGE),n=t.getImage(webim.IMAGE_TYPE.ORIGIN);return o||(o=e),n||(n=e),"<img src='"+e.getUrl()+"#"+o.getUrl()+"#"+n.getUrl()+"' style='CURSOR: hand' id='"+t.getImageId()+"' bigImgUrl='"+o.getUrl()+"' onclick='imageClick(this)' />"}function s(t){var e=(t.getSecond(),t.getDownUrl());return"ie"==webim.BROWSER_INFO.type&&parseInt(webim.BROWSER_INFO.ver)<=8?"[这是一条语音消息]demo暂不支持ie8(含)以下浏览器播放语音,语音URL:"+e:'<audio src="'+e+'" controls="controls" onplay="onChangePlayAudio(this)" preload="none"></audio>'}function a(t){var e=Math.round(t.getSize()/1024);return'<a href="'+t.getDownUrl()+'" title="点击下载文件" ><i class="glyphicon glyphicon-file">&nbsp;'+t.getName()+"("+e+"KB)</i></a>"}function u(t){var e=t.getData();return JSON.parse(e)}function c(t){var e,o,n,i=10,r="",s=i-1;switch(e=t.getOpType(),o=t.getOpUserId(),e){case webim.GROUP_TIP_TYPE.JOIN:n=t.getUserIdList();for(var a in n)if(r+=n[a]+",",n.length>i&&a==s){r+="等"+n.length+"人";break}r=r.substring(0,r.length-1),r+="加入该群，当前群成员数："+t.getGroupMemberNum();break;case webim.GROUP_TIP_TYPE.QUIT:r+=o+"离开该群，当前群成员数："+t.getGroupMemberNum();break;case webim.GROUP_TIP_TYPE.KICK:r+=o+"将",n=t.getUserIdList();for(var a in n)if(r+=n[a]+",",n.length>i&&a==s){r+="等"+n.length+"人";break}r+="踢出该群";break;case webim.GROUP_TIP_TYPE.SET_ADMIN:r+=o+"将",n=t.getUserIdList();for(var a in n)if(r+=n[a]+",",n.length>i&&a==s){r+="等"+n.length+"人";break}r+="设为管理员";break;case webim.GROUP_TIP_TYPE.CANCEL_ADMIN:r+=o+"取消",n=t.getUserIdList();for(var a in n)if(r+=n[a]+",",n.length>i&&a==s){r+="等"+n.length+"人";break}r+="的管理员资格";break;case webim.GROUP_TIP_TYPE.MODIFY_GROUP_INFO:r+=o+"修改了群资料：";var u,c,l=t.getGroupInfoList();for(var a in l)switch(u=l[a].getType(),c=l[a].getValue(),u){case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.FACE_URL:r+="群头像为"+c+"; ";break;case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.NAME:r+="群名称为"+c+"; ";break;case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.OWNER:r+="群主为"+c+"; ";break;case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.NOTIFICATION:r+="群公告为"+c+"; ";break;case webim.GROUP_TIP_MODIFY_GROUP_INFO_TYPE.INTRODUCTION:r+="群简介为"+c+"; ";break;default:r+="未知信息为:type="+u+",value="+c+"; "}break;case webim.GROUP_TIP_TYPE.MODIFY_MEMBER_INFO:r+=o+"修改了群成员资料:";var f,d,p=t.getMemberInfoList();for(var a in p)if(f=p[a].getUserId(),d=p[a].getShutupTime(),r+=f+": ",r+=null!=d&&void 0!==d?0==d?"取消禁言; ":"禁言"+d+"秒; ":" shutupTime为空",p.length>i&&a==s){r+="等"+p.length+"人";break}break;default:r+="未知群提示消息类型：type="+e}return JSON.parse(t.getGroupInfoList()[0].getValue())}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},,function(t,e,o){t.exports={"default":o(66),__esModule:!0}},function(t,e,o){o(94),o(96),o(97),o(95),t.exports=o(13).Promise},function(t,e){t.exports=function(){}},function(t,e,o){var n=o(23),i=o(8).document,r=n(i)&&n(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},,function(t,e,o){var n=o(22),i=o(75),r=o(74),s=o(12),a=o(90),u=o(92);t.exports=function(t,e,o,c){var l,f,d,p=u(t),m=n(o,c,e?2:1),h=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(r(p))for(l=a(t.length);l>h;h++)e?m(s(f=t[h])[0],f[1]):m(t[h]);else for(d=p.call(t);!(f=d.next()).done;)i(d,m,f.value,e)}},function(t,e,o){t.exports=o(8).document&&document.documentElement},function(t,e){t.exports=function(t,e,o){var n=void 0===o;switch(e.length){case 0:return n?t():t.call(o);case 1:return n?t(e[0]):t.call(o,e[0]);case 2:return n?t(e[0],e[1]):t.call(o,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(o,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(o,e[0],e[1],e[2],e[3])}return t.apply(o,e)}},,function(t,e,o){var n=o(14),i=o(4)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||r[i]===t)}},function(t,e,o){var n=o(12);t.exports=function(t,e,o,i){try{return i?e(n(o)[0],o[1]):e(o)}catch(r){var s=t["return"];throw void 0!==s&&n(s.call(t)),r}}},function(t,e,o){"use strict";var n=o(7),i=o(37),r=o(27),s={};o(26)(s,o(4)("iterator"),function(){return this}),t.exports=function(t,e,o){t.prototype=n.create(s,{next:i(1,o)}),r(t,e+" Iterator")}},function(t,e,o){var n=o(4)("iterator"),i=!1;try{var r=[7][n]();r["return"]=function(){i=!0},Array.from(r,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var o=!1;try{var r=[7],s=r[n]();s.next=function(){return{done:o=!0}},r[n]=function(){return s},t(r)}catch(a){}return o}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,o){var n,i,r,s=o(8),a=o(88).set,u=s.MutationObserver||s.WebKitMutationObserver,c=s.process,l=s.Promise,f="process"==o(24)(c),d=function(){var t,e,o;for(f&&(t=c.domain)&&(c.domain=null,t.exit());n;)e=n.domain,o=n.fn,e&&e.enter(),o(),e&&e.exit(),n=n.next;i=void 0,t&&t.enter()};if(f)r=function(){c.nextTick(d)};else if(u){var p=1,m=document.createTextNode("");new u(d).observe(m,{characterData:!0}),r=function(){m.data=p=-p}}else r=l&&l.resolve?function(){l.resolve().then(d)}:function(){a.call(s,d)};t.exports=function(t){var e={fn:t,next:void 0,domain:f&&c.domain};i&&(i.next=e),n||(n=e,r()),i=e}},function(t,e,o){var n=o(38);t.exports=function(t,e){for(var o in e)n(t,o,e[o]);return t}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,o){var n=o(7).getDesc,i=o(23),r=o(12),s=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=o(22)(Function.call,n(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,o){return s(t,o),e?t.__proto__=o:i(t,o),t}}({},!1):void 0),check:s}},function(t,e,o){"use strict";var n=o(13),i=o(7),r=o(25),s=o(4)("species");t.exports=function(t){var e=n[t];r&&e&&!e[s]&&i.setDesc(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,o){var n=o(8),i="__core-js_shared__",r=n[i]||(n[i]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,o){var n=o(12),i=o(30),r=o(4)("species");t.exports=function(t,e){var o,s=n(t).constructor;return void 0===s||void 0==(o=n(s)[r])?e:i(o)}},function(t,e){t.exports=function(t,e,o){if(!(t instanceof e))throw TypeError(o+": use the 'new' operator!");return t}},function(t,e,o){var n=o(39),i=o(32);t.exports=function(t){return function(e,o){var r,s,a=String(i(e)),u=n(o),c=a.length;return u<0||u>=c?t?"":void 0:(r=a.charCodeAt(u),r<55296||r>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):r:t?a.slice(u,u+2):(r-55296<<10)+(s-56320)+65536)}}},function(t,e,o){var n,i,r,s=o(22),a=o(72),u=o(71),c=o(68),l=o(8),f=l.process,d=l.setImmediate,p=l.clearImmediate,m=l.MessageChannel,h=0,v={},g="onreadystatechange",I=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){I.call(t.data)};d&&p||(d=function(t){for(var e=[],o=1;arguments.length>o;)e.push(arguments[o++]);return v[++h]=function(){a("function"==typeof t?t:Function(t),e)},n(h),h},p=function(t){delete v[t]},"process"==o(24)(f)?n=function(t){f.nextTick(s(I,t,1))}:m?(i=new m,r=i.port2,i.port1.onmessage=b,n=s(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):n=g in c("script")?function(t){u.appendChild(c("script"))[g]=function(){u.removeChild(this),I.call(t)}}:function(t){setTimeout(s(I,t,1),0)}),t.exports={set:d,clear:p}},function(t,e,o){var n=o(73),i=o(32);t.exports=function(t){return n(i(t))}},function(t,e,o){var n=o(39),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e){var o=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++o+n).toString(36))}},function(t,e,o){var n=o(31),i=o(4)("iterator"),r=o(14);t.exports=o(13).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||r[n(t)]}},function(t,e,o){"use strict";var n=o(67),i=o(78),r=o(14),s=o(89);t.exports=o(35)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,o=this._i++;return!t||o>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,o):"values"==e?i(0,t[o]):i(0,[o,t[o]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e){},function(t,e,o){"use strict";var n,i=o(7),r=o(36),s=o(8),a=o(22),u=o(31),c=o(33),l=o(23),f=o(12),d=o(30),p=o(86),m=o(70),h=o(82).set,v=o(81),g=o(4)("species"),I=o(85),b=o(79),_="Promise",x=s.process,y="process"==u(x),w=s[_],S=function(){},M=function(t){var e,o=new w(S);return t&&(o.constructor=function(t){t(S,S)}),(e=w.resolve(o))["catch"](S),e===o},E=function(){function t(e){var o=new w(e);return h(o,t.prototype),o}var e=!1;try{if(e=w&&w.resolve&&M(),h(t,w),t.prototype=i.create(w.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(e=!1),e&&o(25)){var n=!1;w.resolve(i.setDesc({},"then",{get:function(){n=!0}})),e=n}}catch(r){e=!1}return e}(),T=function(t,e){return!(!r||t!==w||e!==n)||v(t,e)},O=function(t){var e=f(t)[g];return void 0!=e?e:t},C=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},P=function(t){var e,o;this.promise=new t(function(t,n){if(void 0!==e||void 0!==o)throw TypeError("Bad Promise constructor");e=t,o=n}),this.resolve=d(e),this.reject=d(o)},R=function(t){try{t()}catch(e){return{error:e}}},k=function(t,e){if(!t.n){t.n=!0;var o=t.c;b(function(){for(var n=t.v,i=1==t.s,r=0,a=function(e){var o,r,s=i?e.ok:e.fail,a=e.resolve,u=e.reject;try{s?(i||(t.h=!0),o=s===!0?n:s(n),o===e.promise?u(TypeError("Promise-chain cycle")):(r=C(o))?r.call(o,a,u):a(o)):u(n)}catch(c){u(c)}};o.length>r;)a(o[r++]);o.length=0,t.n=!1,e&&setTimeout(function(){var e,o,i=t.p;D(i)&&(y?x.emit("unhandledRejection",n,i):(e=s.onunhandledrejection)?e({promise:i,reason:n}):(o=s.console)&&o.error&&o.error("Unhandled promise rejection",n)),t.a=void 0},1)})}},D=function(t){var e,o=t._d,n=o.a||o.c,i=0;if(o.h)return!1;for(;n.length>i;)if(e=n[i++],e.fail||!D(e.promise))return!1;return!0},L=function(t){var e=this;e.d||(e.d=!0,e=e.r||e,e.v=t,e.s=2,e.a=e.c.slice(),k(e,!0))},G=function(t){var e,o=this;if(!o.d){o.d=!0,o=o.r||o;try{if(o.p===t)throw TypeError("Promise can't be resolved itself");(e=C(t))?b(function(){var n={r:o,d:!1};try{e.call(t,a(G,n,1),a(L,n,1))}catch(i){L.call(n,i)}}):(o.v=t,o.s=1,k(o,!1))}catch(n){L.call({r:o,d:!1},n)}}};E||(w=function(t){d(t);var e=this._d={p:p(this,w,_),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{t(a(G,e,1),a(L,e,1))}catch(o){L.call(e,o)}},o(80)(w.prototype,{then:function(t,e){var o=new P(I(this,w)),n=o.promise,i=this._d;return o.ok="function"!=typeof t||t,o.fail="function"==typeof e&&e,i.c.push(o),i.a&&i.a.push(o),i.s&&k(i,!1),n},"catch":function(t){return this.then(void 0,t)}})),c(c.G+c.W+c.F*!E,{Promise:w}),o(27)(w,_),o(83)(_),n=o(13)[_],c(c.S+c.F*!E,_,{reject:function(t){var e=new P(this),o=e.reject;return o(t),e.promise}}),c(c.S+c.F*(!E||M(!0)),_,{resolve:function(t){if(t instanceof w&&T(t.constructor,this))return t;var e=new P(this),o=e.resolve;return o(t),e.promise}}),c(c.S+c.F*!(E&&o(77)(function(t){w.all(t)["catch"](function(){})})),_,{all:function(t){var e=O(this),o=new P(e),n=o.resolve,r=o.reject,s=[],a=R(function(){m(t,!1,s.push,s);var o=s.length,a=Array(o);o?i.each.call(s,function(t,i){var s=!1;e.resolve(t).then(function(t){s||(s=!0,a[i]=t,--o||n(a))},r)}):n(a)});return a&&r(a.error),o.promise},race:function(t){var e=O(this),o=new P(e),n=o.reject,i=R(function(){m(t,!1,function(t){e.resolve(t).then(o.resolve,n)})});return i&&n(i.error),o.promise}})},function(t,e,o){"use strict";var n=o(87)(!0);o(35)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,o=this._i;return o>=e.length?{value:void 0,done:!0}:(t=n(e,o),this._i+=t.length,{value:t,done:!1})})},function(t,e,o){o(93);var n=o(14);n.NodeList=n.HTMLCollection=n.Array},function(t,e){"use strict";function o(t,e){for(var o=t+"";o.length<e;)o="0"+o;return o}function n(t){return o(t,2)}function i(t){var e=Math.abs(t.getTimezoneOffset()),o=String(Math.floor(e/60)),n=String(e%60);return 1==o.length&&(o="0"+o),1==n.length&&(n="0"+n),t.getTimezoneOffset()<0?"+"+o+n:"-"+o+n}function r(t){var e=r.ISO8601_FORMAT;"string"==typeof t&&(e=arguments[0],t=arguments[1]),t||(t=new Date);var s=n(t.getDate()),a=n(t.getMonth()+1),u=n(t.getFullYear()),c=n(t.getFullYear().toString().substring(2,4)),l=e.indexOf("yyyy")>-1?u:c,f=n(t.getHours()),d=n(t.getMinutes()),p=n(t.getSeconds()),m=o(t.getMilliseconds(),3),h=i(t),v=e.replace(/dd/g,s).replace(/MM/g,a).replace(/y{1,4}/g,l).replace(/hh/g,f).replace(/mm/g,d).replace(/ss/g,p).replace(/SSS/g,m).replace(/O/g,h);return v}t.exports=r,r.asString=r,r.ISO8601_FORMAT="yyyy-MM-dd hh:mm:ss.SSS",r.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ssO",r.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS",r.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS"},,,function(t,e){},function(t,e){},function(t,e){},,,function(t,e,o){t.exports=o.p+"./images/download.png?eb398fa2"},,function(t,e){t.exports=' <a @click=showChat> <span class=btn-chat></span> <p>聊天</p> </a> <mt-popup :visible.sync=popupChatVisible position=bottom> <div class="dialog dialog-chat-wrap"> <input type=text :class="{\'chat-input\': true, \'red-color\': isRed}" v-model=msg> <input type=button @click=sendData class=btn-primary value="发 送"> </div> </mt-popup> '},function(t,e){t.exports=' <a v-on:click=showDialog> <span class=btn-gift></span> <p>礼物</p> </a> <mt-popup :visible.sync=popupGiftVisible position=bottom> <div class=dialog> <div class=dialog-title> 礼物： </div> <div class=dialog-content> <div class=dialog-gift> <a v-for="item in giftList" v-bind:class="item.giftId | giftClass" @click=toSend(item.giftId)> <i></i> <p>{{item.giftId | giftName}}</p> </a> </div> </div> </div> </mt-popup> '},function(t,e){t.exports=" <a href=javascript:void(0) v-on:click=praiseHandler> <span class=btn-praise></span> <p>赞</p> </a> "},function(t,e){t.exports=' <a v-on:click="popupShareVisible = true"> <span class=btn-share></span> <p>分享</p> </a> <mt-popup :visible.sync=popupShareVisible position=bottom> <div class=dialog> <div class=dialog-title>分享：</div> <div class=dialog-content> <div class=share-wrap> <a target=_blank class=weibo :href=weiboApi><i></i><p>新浪</p></a> <a class=weixin @click=weixinHandler><i></i><p>微信</p></a> <a target=_blank class=qq :href=qqApi><i></i><p>QQ</p></a> <a class=qzone :href=qzoneApi><i></i><p>空间</p></a> </div> </div> </div> </mt-popup> '},function(t,e){t.exports=' <a v-on:click=showDialog> <span class=btn-top></span> <p>顶上去</p> </a> <mt-popup :visible.sync=popupTopVisible position=bottom> <div class=dialog> <div class="dialog-content dialog-top"> <div class=top-text> 使用{{iOneMark}}积分支持MC，是否支持？ </div> <div class=btn-wrap> <button class=btn-primary-x @click=toTop>OK</button> </div> <div class=integral> 您目前剩余<em>{{totalMarks}}</em>积分 <span v-if="totalMarks < iOneMark">，积分不足</span> </div> </div> </div> </mt-popup> '},function(t,e){t.exports=" <div class=user-action> <action-chat></action-chat> <action-share></action-share> <action-top></action-top> <action-gift></action-gift> <action-praise></action-praise> </div> "},function(t,e){t.exports=' <div class=chat-view> <template v-if="webImJoinStatus === \'notGroup\'"> <div class=not-data-hint>直播开始后开启聊天室</div> </template> <template v-if="webImJoinStatus === \'not\'"> <div class=not-data-hint>正在登录聊天室，请稍候...</div> </template> <template v-if="webImJoinStatus === \'ing\'"> <div class=not-data-hint>正在加入聊天室，请稍候...</div> </template> <template v-if="webImJoinStatus === \'error\'"> <div class=not-data-hint>聊天室加入失败，请刷新页面</div> </template> <template v-if="webImJoinStatus === \'success\'"> <div v-if="webImData.length < 1" class=not-data-hint>已加入聊天室，暂时没收到消息</div> <ul class=chat-list> <li v-for="item in webImData | filterBy roomId in filterKey"> <template v-if="item.msgType === 0 || item.msgType === 2"> <span class=name>{{item.nickName}}：</span> <span class=content>{{item.content}}</span> </template> <template v-if="item.msgType === 1"> <span class=name>{{item.nickName}}</span> <span class="content red">向主播赠送了{{item.giftId | giftName}}</span> </template> <template v-if="item.msgType === 3"> <span class=name>{{item.nickName}}</span> <span class="content red">对主播点赞了一次</span> </template> <template v-if="item.msgType === 4"> <span class="content red">{{item.nickName}}{{item.content}}</span> </template> <template v-if="item.msgType === 5"> <span class="content red">主播将用户{{item.toUsername}}禁言</span> </template> <template v-if="item.msgType === 8"> <span class="content red">主播已锁屏</span> </template> <template v-if="item.msgType === 9"> <span class="content red">主播已解屏</span> </template> <template v-if="item.msgType === 10"> <span class="content red">主播将用户{{item.toUsername}}踢出房间</span> </template> <template v-if="item.msgType === 11"> <span class="content red">{{item.toUsername}}被主播{{item.roomControl === "true" ? \'设置为\' : \'解除\'}}场控</span> </template> </li> </ul> </template> </div> '},function(t,e){t.exports=" <div class=video-notice> <span>该直播将于 {{playDateTime}} 播出</span> </div> "},function(t,e){t.exports=' <div class=recommend _v-0403c65d=""> <div class=column-title _v-0403c65d=""><i _v-0403c65d=""></i><span _v-0403c65d="">猜你喜欢</span></div> <div class=list-container _v-0403c65d=""> <div class=list :style="{width: listWidth}" _v-0403c65d=""> <a v-for="item in allHotList" @click="routerGo({name: \'detail\', params: {roomId: item.roomId}})" track-by=roomId _v-0403c65d=""> <img v-bind:src=item.posterPic alt="" _v-0403c65d=""> <p _v-0403c65d="">{{item.roomName}}</p> </a> </div> </div> </div> '},function(t,e){t.exports=' <video controls="" preload="" webkit-playsinline="" :src=url :class="{\'video-height\': isSetHeight}" _v-4603bbca=""></video> '},function(t,e,o){t.exports=' <a href=http://2bai.co/1062128 class=download _v-56f7f281=""><img src='+o(106)+' alt="" _v-56f7f281=""></a> '},,function(t,e,o){var n,i;o(103),n=o(47),i=o(118),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){var n,i;n=o(48),i=o(108),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){var n,i;n=o(49),i=o(109),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){var n,i;n=o(50),i=o(110),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){var n,i;n=o(51),i=o(111),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){var n,i;n=o(52),i=o(112),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){var n,i;n=o(53),i=o(113),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){var n,i;n=o(54),i=o(114),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){var n,i;o(101),n=o(55),i=o(116),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){
var n,i;n=o(56),i=o(115),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},function(t,e,o){var n,i;o(102),n=o(57),i=o(117),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},,,,,,function(t,e,o){var n,i;o(198),n=o(154),i=o(218),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)},,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=(o(99),o(104)),r=n(i),s=o(1),a=n(s),u=o(15),c=o(120),l=n(c),f=o(130),d=n(f),p=o(129),m=n(p),h=o(227),v=n(h),g=o(128),I=n(g),b=o(126),_=n(b),x=o(127),y=n(x),w=o(60),S=n(w),M=o(28);e["default"]={name:"detail",replace:!0,mixins:[S["default"]],data:function(){return{bShowVideo:!0}},created:function(){this.requestDataHandler(),this.changeRoomTips(),this.watchRoomDetailSuccess()},destroyed:function(){console.log("destroyed"),this.resetRoomState()},methods:{requestDataHandler:function(){this.requestAllData(),this.$watch("routeRoomId",this.requestAllData)},requestAllData:function(){this.getRoomDetail({roomId:this.routeRoomId}),this.getRoomAllHotList(),this.enterRoomHandler()},enterRoomHandler:function(){function t(){e.enterRoom({roomId:e.routeRoomId,touristId:e.userSig.nickName.substr(2)})}var e=this;if(this.userSig.nickName)t();else var o=this.$watch("userSig",function(){t(),o()})},watchRoomDetailSuccess:function(){this.$watch("roomDetailSuccess",function(){this.roomDetailSuccess===!1&&this.$router.go({name:"detail",params:{roomId:M.DEFAULT_ROOMID}})})},changeRoomTips:function(){this.$watch("routeRoomId",function(){r["default"].open("房间切换中...")}),this.$watch("joinStatus",function(){"ing"!==this.joinStatus&&r["default"].close()})}},computed:{routeRoomId:function(t){return parseInt(t.$route.params.roomId)},bShowVideo:function(){return 0!==this.roomStatus&&1!==this.roomStatus}},store:a["default"],vuex:{getters:{isLogin:function(t){return t.user.isLogin},roomDetail:function(t){return t.room.roomDetail},roomDetailSuccess:function(t){return t.room.roomDetailSuccess},roomStatus:function(t){return t.room.roomDetail.status},roomAllHotList:function(t){return t.room.roomAllHotList},joinStatus:function(t){return t.webim.joinStatus},userSig:function(t){return t.user.sig}},actions:{getRoomDetail:u.getRoomDetail,getRoomAllHotList:u.getRoomAllHotList,enterRoom:u.enterRoom,resetRoomState:u.resetRoomState}},components:{download:l["default"],videoView:d["default"],videoNotice:m["default"],videoInfo:v["default"],roomRecommend:I["default"],actionView:_["default"],chatView:y["default"]}}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),r=n(i),s=o(15);e["default"]={data:function(){return{timer:null}},created:function(){this.applyGetRoomLongPoling()},destroyed:function(){clearInterval(this.timer)},methods:{applyGetRoomLongPoling:function(){this.$watch("roomId",function(){this.getRoomLongPoling({roomId:this.roomId})}),this.timer=setInterval(function(){this.getRoomLongPoling({roomId:this.roomId})}.bind(this),1e4)}},store:r["default"],vuex:{getters:{roomDetail:function(t){return t.room.roomDetail},roomId:function(t){return t.room.roomId},roomLongpoling:function(t){return t.room.longpoling},roomStatus:function(t){return t.room.roomDetail.status}},actions:{getRoomLongPoling:s.getRoomLongPoling}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,function(t,e){},,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=" <section> <video-view v-if=bShowVideo :url=roomDetail.hlsUrl></video-view> <video-notice v-if=!bShowVideo :room-detail=roomDetail :live-time=roomDetail.liveTime></video-notice> <div class=video-info-box> <video-info></video-info> </div> <action-view></action-view> <chat-view :filter-key=\"'roomId'\" :room-id=roomId></chat-view> <room-recommend v-bind:all-hot-list=roomAllHotList></room-recommend> <download></download> </section> "},function(t,e){t.exports=' <div class=video-info _v-0957b953=""> <div class=v-card _v-0957b953=""> <img v-bind:src="roomDetail.creator &amp;&amp; roomDetail.creator.smallAvatar" height=66 width=66 alt="" _v-0957b953=""> <div class=text-wrap _v-0957b953=""> <p class=title _v-0957b953="">{{roomDetail.roomName}}</p> <p class=explain _v-0957b953="">{{roomDetail.creator &amp;&amp; roomDetail.creator.nickName}}</p> </div> </div> <div class=people-num _v-0957b953=""> <p v-if="roomStatus === 2" _v-0957b953="">在线人数：<span _v-0957b953="">{{roomLongpoling.currentOnline || 0}}</span></p> <p v-if="roomStatus === 3" _v-0957b953="">最高在线人数：<span _v-0957b953="">{{roomLongpoling.onlineMax || 0}}</span></p> <p _v-0957b953="">人气：<span _v-0957b953="">{{roomLongpoling.popularity || 0}}</span></p> </div> </div> '},,,,,,,,function(t,e,o){var n,i;o(195),n=o(155),i=o(219),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),i&&(("function"==typeof t.exports?t.exports.options:t.exports).template=i)}]);