/*! vue */
webpackJsonp([3],{20:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.setHeaderTitle=void 0;var a=i(3),s=o(a),r=i(9);n(r),e.setHeaderTitle=function(t,e){var i=t.dispatch;i(s.RECEIVE_HEADERTITLE,e)}},46:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["item"],computed:{bgPic:function(){return'url("'+this.item.posterPic+'")'},videoName:function(){return this.item.channelName||this.item.roomName||this.item.videoName},popularity:function(){return this.item.realPopularity||this.item.popularity}},methods:{routerGo:function(){var t={name:"detail",params:{}};"undefined"!=typeof this.item.channelId?(t.name="channel",t.params.channelId=this.item.channelId):t.params.roomId=this.item.roomId||this.item.videoId,this.$router.go(t)}}}},107:function(t,e){t.exports='<div :style="{ backgroundImage: bgPic }" @click=routerGo() class=big-video-item><div class=info-bg><div class=info> <p class=video-name>{{ videoName }}</p><div class=author-info><img :src="item.creator &amp;&amp; item.creator.smallAvatar" class=author-pic /><span class=author-name>{{ item.creator && item.creator.nickName }}</span></div></div><div class=popularity>人气：{{ popularity }}</div></div><span v-if="item.status === 1" class=notice-icon></span><span v-if="item.status === 2" class=live-icon></span></div>'},119:function(t,e,i){var n,o;n=i(46),o=i(107),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options:t.exports).template=o)},140:function(t,e,i){var n,o;n=i(164),o=i(213),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options:t.exports).template=o)},164:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=(i(100),i(105)),a=n(o),s=(i(189),i(201)),r=n(s),l=i(1),u=n(l),c=i(172),d=i(20),f=i(2),m=n(f),p=i(119),h=n(p);m["default"].use(r["default"]),m["default"].component(a["default"].name,a["default"]),e["default"]={data:function(){return{iPage:0,loading:!0,firstLoadEnd:!1}},created:function(){this.scrollTopHandler(),this.setHeaderTitle("让世界吃你偶像安利！"),this.$watch("tagName",function(){this.setHeaderTitle(this.tagName)}),this.initHandler(),this.$watch("RouterColumn",this.columnHandler),this.$watch("RouteTagId",this.TagIdHandler)},methods:{scrollTopHandler:function(){document.body.scrollTop=0},columnHandler:function(){"tag"!==this.RouterColumn&&this.initHandler()},TagIdHandler:function(){isNaN(this.RouteTagId)||this.initHandler()},initHandler:function(t,e){var i=this;this.setColumn(this.RouterColumn),this.setTagId(this.RouteTagId),this.setTagName(),this.resetData(),this.getDataList(this.iPage++).then(function(){setTimeout(function(){i.firstLoadEnd=!0},100)})},loadMore:function(t){var e=this;e.firstLoadEnd&&(e.loading=!0,e.getDataList(e.iPage++).then(function(){setTimeout(function(){e.loading=!1},100)}))}},computed:{RouterColumn:function(t){return t.$route.params.column},RouteTagId:function(t){return parseInt(t.$route.params.tagId)},loading:function(t){return!t.hasNextOffset}},components:{bigVideoItem:h["default"]},store:u["default"],vuex:{getters:{dataList:function(t){return t.list.dataList},tagName:function(t){return t.list.tagName},hasNextOffset:function(t){return t.list.hasNextOffset}},actions:{setColumn:c.setColumn,setTagId:c.setTagId,setTagName:c.setTagName,getDataList:c.getDataList,setHeaderTitle:d.setHeaderTitle,resetData:c.resetData}}}},172:function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.setTagName=e.setTagId=e.setColumn=e.resetData=e.getDataList=void 0;var a=i(10),s=o(a),r=i(3),l=n(r),u=i(9),c=o(u);e.getDataList=function(t,e){var i,n=t.dispatch,o=t.state,a={size:o.list.size,offset:o.list.nextOffset,status:o.list.nextStatus};switch(o.list.column){case"hot":i=c["default"].getRoomAllHotList(a);break;case"rec":i=c["default"].getHomeChannelRec((0,s["default"])({type:"YYT"},a));break;case"tag":i=c["default"].getTagVideoList((0,s["default"])({tagId:o.list.tagId},a))}return i.then(function(t){n(l.ADD_DATALIST,t.data.data)})},e.resetData=function(t){var e=t.dispatch;e(l.RESET_LISTDATA)},e.setColumn=function(t,e){var i=t.dispatch;i(l.RECEIVE_COLUMN,e)},e.setTagId=function(t,e){var i=t.dispatch;i(l.RECEIVE_TAGID,e)},e.setTagName=function(t){var e=t.dispatch,i=t.state;switch(i.list.column){case"hot":e(l.RECEIVE_TAGNAME,"精彩饭趴");break;case"rec":e(l.RECEIVE_TAGNAME,"官方频道");break;case"tag":c["default"].getTagList().then(function(t){var n=t.data.data.filter(function(t){return t.id===i.list.tagId});console.log(i.list.tagId),e(l.RECEIVE_TAGNAME,n[0].title)})}}},189:function(t,e){},201:function(t,e){t.exports=function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}({0:function(t,e,i){t.exports=i(92)},5:function(t,e){},92:function(t,e,i){"use strict";t.exports=i(93)},93:function(t,e,i){"use strict";var n=i(191);i(5),n.infiniteScroll.name="infinite-scroll",n.infiniteScroll.install=n.install,t.exports=n.infiniteScroll},191:function(t,e,i){!function(t,i){i(e)}(this,function(t){"use strict";function e(t){t.directive("infiniteScroll",u)}var i=function(t,e){var i,n,o,a,s,r=function(){t.apply(a,s),n=i};return function(){if(a=this,s=arguments,i=Date.now(),o&&(clearTimeout(o),o=null),n){var t=e-(i-n);t<0?r():o=setTimeout(function(){r()},t)}else r()}},n=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},o=document.defaultView.getComputedStyle,a=function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var i=o(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window},s=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},r=function(t){return t===window?n(window):t.getBoundingClientRect().top+n(window)},l=function(t){for(var e=t.parentNode;e;){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},u={doBind:function(){if(!this.binded){this.binded=!0;var t=this,e=t.el;t.scrollEventTarget=a(e),t.scrollListener=i(t.doCheck.bind(t),200),t.scrollEventTarget.addEventListener("scroll",t.scrollListener);var n=e.getAttribute("infinite-scroll-disabled"),o=!1;n&&(this.vm.$watch(n,function(e){t.disabled=e,!e&&t.immediateCheck&&t.doCheck()}),o=Boolean(t.vm.$get(n))),t.disabled=o;var s=e.getAttribute("infinite-scroll-distance"),r=0;s&&(r=Number(t.vm.$get(s)),isNaN(r)&&(r=0)),t.distance=r;var l=e.getAttribute("infinite-scroll-immediate-check"),u=!0;l&&(u=Boolean(t.vm.$get(l))),t.immediateCheck=u,u&&t.doCheck();var c=e.getAttribute("infinite-scroll-listen-for-event");c&&t.vm.$on(c,function(){t.doCheck()})}},doCheck:function(t){var e=this.scrollEventTarget,i=this.el,o=this.distance;if(t===!0||!this.disabled){var a=n(e),l=a+s(e),u=!1;if(e===i)u=e.scrollHeight-l<=o;else{var c=r(i)-r(e)+i.offsetHeight+a;u=l+o>=c}u&&this.expression&&this.vm.$get(this.expression)}},bind:function(){var t=this,e=this.el;t.vm.$on("hook:ready",function(){l(e)&&t.doBind()}),this.bindTryCount=0;var i=function n(){t.bindTryCount>10||(t.bindTryCount++,l(e)?t.doBind():setTimeout(n,50))};i()},unbind:function(){this.scrollEventTarget.removeEventListener("scroll",this.scrollListener)}};window.Vue&&(window.infiniteScroll=u,Vue.use(e)),t.install=e,t.infiniteScroll=u})}})},213:function(t,e){t.exports='<section><div v-infinite-scroll=loadMore() infinite-scroll-disabled="loading &amp;&amp; firstLoadEnd" infinite-scroll-distance=10 class=list-view><big-video-item v-for="item in dataList" :item=item></big-video-item></div><div v-show=hasNextOffset class=list-loading-view><mt-spinner type=fading-circle color=#888></mt-spinner><span class=text>加载中...</span></div></section>'}});